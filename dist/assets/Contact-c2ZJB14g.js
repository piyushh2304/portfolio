import{j as a,m as T,r as p}from"./index-CBBs8p4O.js";import{A as R}from"./index-72m6gVLU.js";import{P as _}from"./Particles-YTcR88JA.js";class g{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const F=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},r={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:F()},x=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},H=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=x(e);r.publicKey=s.publicKey,r.blockHeadless=s.blockHeadless,r.storageProvider=s.storageProvider,r.blockList=s.blockList,r.limitRate=s.limitRate,r.origin=s.origin||t},y=async(e,t,s={})=>{const i=await fetch(r.origin+e,{method:"POST",headers:s,body:t}),o=await i.text(),l=new g(i.status,o);if(i.ok)return l;throw l},j=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},V=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},v=e=>e.webdriver||!e.languages||e.languages.length===0,w=()=>new g(451,"Unavailable For Headless Browser"),q=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},A=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},C=(e,t)=>e instanceof FormData?e.get(t):e[t],k=(e,t)=>{if(A(e))return!1;q(e.list,e.watchVariable);const s=C(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},S=()=>new g(403,"Forbidden"),E=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},D=async(e,t,s)=>{const i=Number(await s.get(e)||0);return t-Date.now()+i},N=async(e,t,s)=>{if(!t.throttle||!s)return!1;E(t.throttle,t.id);const i=t.id||e;return await D(i,t.throttle,s)>0?!0:(await s.set(i,Date.now().toString()),!1)},P=()=>new g(429,"Too Many Requests"),K=async(e,t,s,i)=>{const o=x(i),l=o.publicKey||r.publicKey,d=o.blockHeadless||r.blockHeadless,u=o.storageProvider||r.storageProvider,h={...r.blockList,...o.blockList},f={...r.limitRate,...o.limitRate};return d&&v(navigator)?Promise.reject(w()):(j(l,e,t),V(s),s&&k(h,s)?Promise.reject(S()):await N(location.pathname,f,u)?Promise.reject(P()):y("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},M=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},B=e=>typeof e=="string"?document.querySelector(e):e,O=async(e,t,s,i)=>{const o=x(i),l=o.publicKey||r.publicKey,d=o.blockHeadless||r.blockHeadless,u=r.storageProvider||o.storageProvider,h={...r.blockList,...o.blockList},f={...r.limitRate,...o.limitRate};if(d&&v(navigator))return Promise.reject(w());const c=B(s);j(l,e,t),M(c);const n=new FormData(c);return k(h,n)?Promise.reject(S()):await N(location.pathname,f,u)?Promise.reject(P()):(n.append("lib_version","4.4.1"),n.append("service_id",e),n.append("template_id",t),n.append("user_id",l),y("/api/v1.0/email/send-form",n))},I={init:H,send:K,sendForm:O,EmailJSResponseStatus:g},J=({type:e,text:t})=>{const s={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8}};return a.jsx(R,{children:a.jsx(T.div,{className:"fixed z-50 flex items-center justify-center bottom-5 right-5",initial:"hidden",animate:"visible",exit:"exit",variants:s,transition:{duration:.3,ease:"easeInOut"},children:a.jsxs("div",{className:`p-2 ${e==="danger"?"bg-red-800":"bg-royal"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex rounded-md p-5`,children:[a.jsx("p",{className:`flex rounded-full ${e==="danger"?"bg-red-500":"bg-lavender"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:e==="danger"?"Failed":"Success"}),a.jsx("p",{className:"mr-2 text-left",children:t})]})})})},$=()=>{const[e,t]=p.useState({name:"",email:"",message:""}),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[d,u]=p.useState("success"),[h,f]=p.useState(""),c=m=>{t({...e,[m.target.name]:m.target.value})},n=(m,b)=>{u(m),f(b),l(!0),setTimeout(()=>{l(!1)},5e3)},L=async m=>{m.preventDefault(),i(!0);try{console.log("From submitted:",e),await I.send("service_79b0nyj","template_17us8im",{from_name:e.name,to_name:"Piyush",from_email:e.email,to_email:"piyushrajput1404@gmail.com",message:e.message},"pn-Bw_mS1_QQdofuV"),i(!1),t({name:"",email:"",message:""}),n("success","You message has been sent!")}catch(b){i(!1),console.log(b),n("danger","Somthing went wrong!")}};return a.jsxs("section",{id:"contact",className:"relative flex items-center c-space section-spacing",children:[a.jsx(_,{className:"absolute inset-0 -z-50",quantity:100,ease:80,color:"#ffffff",refresh:!0}),o&&a.jsx(J,{type:d,text:h}),a.jsxs("div",{className:"flex flex-col items-center justify-center max-w-md p-5 mx-auto border border-white/10 rounded-2xl bg-primary",children:[a.jsxs("div",{className:"flex flex-col items-start w-full gap-5 mb-10",children:[a.jsx("h2",{className:"text-heading",children:"Let's Talk"}),a.jsx("p",{className:"font-normal text-neutral-400",children:"Whether you're loking to build a new website, improve your existing platform, or bring a unique project to life, I'm here to help"})]}),a.jsxs("form",{className:"w-full",onSubmit:L,children:[a.jsxs("div",{className:"mb-5",children:[a.jsx("label",{htmlFor:"name",className:"feild-label",children:"Full Name"}),a.jsx("input",{id:"name",name:"name",type:"text",className:"field-input field-input-focus",placeholder:"John Doe",autoComplete:"name",value:e.name,onChange:c,required:!0})]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("label",{htmlFor:"email",className:"feild-label",children:"Email"}),a.jsx("input",{id:"email",name:"email",type:"email",className:"field-input field-input-focus",placeholder:"JohnDoe@email.com",autoComplete:"email",value:e.email,onChange:c,required:!0})]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("label",{htmlFor:"message",className:"feild-label",children:"Message"}),a.jsx("textarea",{id:"message",name:"message",type:"text",rows:"4",className:"field-input field-input-focus",placeholder:"Share your thoughts...",autoComplete:"message",value:e.message,onChange:c,required:!0})]}),a.jsx("button",{type:"submit",className:"w-full px-1 py-3 text-lg text-center rounded-md cursor-pointer bg-radial from-lavender to-royal hover-animation",children:s?"Sending...":"Send"})]})]})]})};export{$ as default};
